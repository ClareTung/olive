# 设计模式

—设计模式对我们的日常工作的意义？

——需求的扩展，修改代码，添加一段代码。日常的增删改查大家都可以，需要融入我们的思想，关心我们的代码质量。

——思想类的书籍：《重构：改善既有代码的设计》。代码的坏味道。

—— 源码怎么看？自己梳理流程

——写代码的时候，有没有思考过去优化，有没有去设计。

——自己认为这件事很重要。

——设计模式帮住我们减少代码量。减少我们在新需求的时候，编码时间。

——日常的工作时间花费在debug过程中。

—如何界定代码质量？

——软件六大设计原则。

———单一职责原则 

* 一个类只负责一个功能领域中的相应职责。高内聚，低耦合。

———开闭原则

* 对扩展开放，对修改关闭。不修改原有代码的情况下进行扩展。

———里氏替换原则

* 所有引用父类的地方必须能透明地使用其子类对象。

———接口隔离原则

* 接口拆分。当一个接口太大时，拆分成一些更细小的接口。

———依赖倒置原则

* 抽象不应该依赖于细节，细节应该依赖于抽象。

———迪米特法则

* 减少依赖。一个软件实体应当尽可能减少与其他实体发生相互作用。

——利用设计原则，作为衡量代码好坏的尺子。

——违反了任何一个原则，都能使用设计模式对代码进行设计。

——设计模式是**经验**总结，代表了代码中的最佳实践。

——**围绕源码训练思维**。理解设计模式的真正含义。

——违反了设计原则，就要想到设计模式。

——设计模式的核心思想就是：**抽象**。

## 观察者模式

* 定义对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并被自动更新。
* 发布/订阅，消息通知机制，事件监听、事件驱动编程
* Event/Listener，Bus，MQ

## 策略模式

* 定义了一系列算法，并将每一个算法封装起来，而且使他们可以相互替换，让算法独立于使用它的客户而独立变化。
* 算法：程序执行的逻辑，顺序。
* 封装：函数/方法，类，接口，抽象类。
* 相互替换：①每一种算法，功能定义是一样的，具体实现不同。②Java中，可以直接替换的是接口实现，子类。
  * 定义抽象类/接口 → 实现1，实现2，实现3

## 模板方法模式

* 定义一个算法的骨架，将骨架中的特定步骤延迟到子类中（注：特定的步骤由子类实现）。



